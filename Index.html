<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Status</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body>
    <div class="container">
        <h1>Payment Status</h1>
        <div id="statusMessage"></div>
    </div>

    <script type="text/javascript">
        // Function to get query parameter values
        function getQueryParams() {
            const urlParams = new URLSearchParams(window.location.search);
            const status = urlParams.get('status');
            const userId = urlParams.get('userId');
            return { status, userId };
        }

        // Extract parameters from URL
        const { status, userId } = getQueryParams();

        // Show a message based on payment status
        if (status === "success") {
            document.getElementById("statusMessage").innerHTML = `<p class="alert alert-success">Payment Successful for User ID: ${userId}</p>`;
            Swal.fire({
                title: 'Payment Successful!',
                text: `Payment was successful for User ID: ${userId}`,
                icon: 'success',
                confirmButtonText: 'OK'
            });
        } else if (status === "cancel") {
            document.getElementById("statusMessage").innerHTML = `<p class="alert alert-danger">Payment Canceled for User ID: ${userId}</p>`;
            Swal.fire({
                title: 'Payment Canceled',
                text: `Payment was canceled for User ID: ${userId}`,
                icon: 'error',
                confirmButtonText: 'OK'
            });
        } else {
            document.getElementById("statusMessage").innerHTML = `<p class="alert alert-warning">Invalid payment status or missing parameters.</p>`;
        }
    </script>
</body>

</html>
